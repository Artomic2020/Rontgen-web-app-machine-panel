<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Landing Page</title>

    <!--
    © 2025 Art J. Olson / Artomic Design. All Rights Reserved.
    The Artomic RØNTGEN Project — proprietary code and design.
    
    Technologies: HTML, PHP/SQL, JavaScript (vanilla), JSON, Node.js/Express.js, 
    CSS/Flexbox, SVG, PNG, WOFF, RDF, XML, Bluetooth LE, Arduino, WAI-ARIA.
    
    Purpose: Efficiency, accessibility, interoperability, and secure development.
    Avoid 3rd-party libraries and SPA frameworks.
    -->
    <meta
      name="copyright"
      content="© 2025 Art J. Olson / Artomic Design. All Rights Reserved.">
    <meta name="author" content="Art J. Olson">
    <meta name="project" content="The Artomic RØNTGEN Project">
    <meta
      name="license"
      content="All Rights Reserved. Proprietary and confidential.">
    <meta
      name="technology"
      content="HTML, JavaScript (vanilla), JSON, Node.js/Express.js, CSS/Flexbox, RDF, XML, Bluetooth LE, Arduino, WAI-ARIA.">

    <link
      rel="preload"
      as="image"
      href="images/SVG/optim2/isometric_set_0000_1255_isometric_330deg_1optim2.svg"
      fetchpriority="high">

    <!--<script src="js/highcharts.bundle.js" defer></script>-->

    <script src="js/highcharts.js" defer></script>
    <script src="js/highcharts-more.js" defer></script>
    <script src="js/accessibility.js" defer></script>

    <script src="js/chartscombined.js" defer></script>
    <script src="js/charts.js" defer></script>
    <script src="Charts/js/chart.js"></script>
    <script src="js/main.js" defer></script>

    <link rel="stylesheet" href="/css/styles.css">

    <link rel="manifest" href="manifest.json">

    <!--<iframe src="/sandbox.html" sandbox="allow-scripts allow-forms"></iframe>-->

    <!-- iOS Home Screen Icon -->
    <link rel="apple-touch-icon" sizes="180x180" href="icons/favicon180.png">

    <!-- Make app open in standalone mode -->
    <meta name="mobile-web-app-capable" content="yes">
    <meta
      name="apple-mobile-web-app-status-bar-style"
      content="black-translucent">

    <!-- Name under the icon -->
    <meta name="apple-mobile-web-app-title" content="Artomic Røntgen">
    <style>
      .grid-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        height: 100%;
        width: 100%;
      }

      .grid-box {
        flex: 1 1 calc(50% - 10px); /* 2 per row */
        /* keeps boxes square */
        min-width: calc(50% - 10px); /* prevents shifting */
        background: transparent;
        border: 1px solid #bbb;
        display: flex;
        justify-content: center;
        border-radius: 20px;
        position: relative;
        transition: all 0.3s ease;
        box-sizing: border-box;
      }

      .grid-box.full {
        flex-basis: 100%;
        min-width: 100%;
      }

      .grid-box canvas {
        display: block; /* remove inline spacing */
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      /* X button */
      .expand-btn {
        position: absolute;
        top: 5px;
        right: 5px;
        border: none;
        background: #000;
        color: #fff;
        width: 25px;
        height: 25px;
        border-radius: 50%;
        cursor: pointer;
        font-weight: bold;
      }

      .grid-box.expanded {
        position: relative;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        flex: none;
        z-index: 10;
      }

      /* Hide all other boxes when one is expanded */
      .grid-box.hidden {
        display: none;
      }

      /* Mobile stacking (normal mode) */
      @media (max-width: 600px) {
        .grid-box {
          flex: 1 1 100%;
        }
      }
      .bottom-row {
        display: flex; /* Horizontal row for boxes */
        width: 100%;
      }

      .box {
        flex: 1; /* Each box takes equal space */
        text-align: center;
        border-radius: 25%;
      }
    </style>


  </head>

  <body>
    <div id="overlay" class="overlay">
      <div class="overlay-card">
        <h2>Artomic</h2>
        <p>
          To give you updates and alerts, we’d like to send notifications. By
          continuing, you confirm you’ve read and accept our
          <a href="consent.html" target="_blank"
            >Privacy Policy and Informed Consent</a>
        </p>
        <button id="push">Enable Notifications</button>
      </div>
    </div>

    <header class="navbar">
      <div class="logo">
        <div class="line1">Artomic</div>
        <div class="line2">RØNTGEN</div>
      </div>
      <select id="modeSelector" title="mode selector">
        <option value="">--Choose a mode--</option>
        <option value="mode1">Mode 1 png (diagnosis)</option>
        <option value="mode2" selected>Mode 2 svg (technician / admin)</option>
        <option value="mode3">Mode 3 svg (most efficient)</option>
      </select>

      <ul>
        <li><a href="#" class="screen-link">Machine-panel</a></li>
        <li><a href="#" class="modality">CT</a></li>
        <li>
          <a class="activity">Blocks</a><a href="#" class="protocol">Praxis</a>
        </li>
        <li>
          <a href="#" class="calander" title="calendar">
            <i class="fa-regular fa-calendar"></i
          ></a>
        </li>
        <li>
          <a href="#" class="clock">
            <div id="time">--:-- --</div>
            <div id="date">--.--.----</div></a>
        </li>
      </ul>
    </header>
    <div class="app-container">
      <div class="left-toolbar">
        <div id="gauge" class="gauge"></div>
        <!--<div id="gauge2" class="gauge"></div>-->
        <div id="temperature" class="temperature">23° C</div>
        <div id="fan-beam" class="beam">
          <img
            src="images/fan.png"
            alt="example"
            style="
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
            ">
        </div>
        <div id="cone-beam" class="beam">
          <img src="images/cone_1.png" alt="example">
        </div>
        <div id="column-beam" class="beam">
          <img src="images/column.png" alt="example">
        </div>
      </div>
      <div class="bay gradient">
        <!--  <button onclick="openFullscreen()" style="position: fixed; z-index: 1; bottom: 50px">Enter Fullscreen </button> -->

        <!--
        <div id="stage1" class="stage">1</div>
        <div id="stage2" class="stage">2</div>
        <div id="stage3" class="stage">3</div>
        <div id="stage4" class="stage">4</div>
        START-->
        <div class="grid-container">
          <div class="grid-box" data-box="1">
            <button class="expand-btn">X</button>
            <!--Box 1-->

            <div class="image-container">
              <img
                id="displayImage"
                src="images/SVG/optim2/isometric_set_0000_1255_isometric_330deg_1optim2.svg"
                alt="Mode Image"
                onerror="this.onerror=null; this.src=images/PNG/placeholder.png"
                fetchpriority="high">
            </div>
          </div>

          <div class="grid-box" data-box="2">
            <!--Box 2-->

            <div class="box">
              <!-- Row 1: File upload + Save -->
              <div class="row">
                <input
                  type="file"
                  id="jsonUpload"
                  accept="application/json"
                  multiple>
                <button id="saveFilesBtn">Save</button>
              </div>

              <!-- Row 2: Stored files dropdown + Draw -->
              <div class="row">
                <select id="storedFilesDropdown"></select>
                <button id="drawChartBtn">Draw</button>
              </div>

              <canvas id="myChart"></canvas>
            </div>
          </div>

          <div class="grid-box full" data-box="3">
            <!--Box 3-->
            <div id="tempGauge" style="width: 40px; height: 40px"></div>

            <figure class="highcharts-figure">
           <div
  id="container"
  style="
    width: 100%; /* or any valid width */
    height: min-content;
    margin: 0; 
    overflow: visible !important;
  ">

                </div>
            </figure>
          </div>

          <div class="grid-box full" data-box="4">
            <!--Box 4-->

            <button id="start">Run Benchmark</button>
            <div
              id="progress-container"
              style="
                width: 100%;
                background: #444;
                height: 20px;
                border-radius: 10px;
                overflow: hidden;
                margin-top: 10px;
                margin-bottom: 60px;
                margin-left: 35px;
                margin-right: 35px;
              ">
              <div
                id="progress"
                style="
                  height: 100%;
                  width: 0%;
                  background: limegreen;
                  transition: width 0.3s ease;
                  margin-left: 5px;
                  margin-right: 5px;
                ">
                </div>
            </div>
            <div>
              <pre id="status" style="color: white; max-height: 40px">Ready</pre>
            </div>
          </div>
        </div>
      </div>
      <div class="right-toolbar">
        <div class="gauge">
          <img
            src="images/speaker.png"
            alt="example"
            style="
              aspect-ratio: 1 / 1;
              max-width: 150px;
              min-width: 100px;
              width: 100%;
              height: 100%;
              background: #2d373d;
              border-radius: 50%;
              border: 3px solid black;
              z-index: 2;
              object-fit: contain;
            ">
        </div>

        <div id="gauge4" class="gauge" style="position: relative">
          <img
            src="images/knob_Base.png"
            alt="example"
            style="
              position: absolute;
              top: 50%;
              left: 50%;
              transform: translate(-50%, -50%);
              width: 100%;
              height: 100%;
              object-fit: contain;
            ">
        </div>

        <div
          id="online-status"
          class="status"
          style="
            padding: 5px 10px;
            border-radius: 5px;
            font-weight: bold;
            color: white;
          ">
          Checking...
        </div>

        <!--
    <iframe 
  src="/sandbox.html"
  sandbox="allow-scripts allow-forms"
  style="width:5%; height:5%; border:0;"
></iframe>
-->
        <!--<div id="rotate" class="gantry">
          <img src="images/wider.png" alt="example" />
        </div>-->

        <button id="nextBtn" class="gantry">
          <img src="images/turn.png" alt="example">
        </button>

        <div id="colorOIP" class="gantry">
          <img id="hoverImg" src="images/OIP.png" alt="example">
        </div>

        <div
          style="
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin-top: 5px;
          ">
          <img src="images/express.png" alt="Express JS" style="height: 40px" >
          <img
            src="images/nodejs-icon.jpg"
            alt="Node JS icon"
            style="height: 40px">
        </div>
      </div>
    </div>

    <script>
      const boxes = document.querySelectorAll(".grid-box");

      boxes.forEach((box) => {
        const btn = box.querySelector(".expand-btn");
        if (!btn) return; // skip this box if no button

        btn.addEventListener("click", (e) => {
          e.stopPropagation(); // prevent click bubbling

          const isExpanded = box.classList.contains("expanded");

          // Reset everything
          boxes.forEach((b) => {
            b.classList.remove("expanded");
            b.classList.remove("hidden");
          });

          if (!isExpanded) {
            // Expand this one
            box.classList.add("expanded");
            boxes.forEach((b) => {
              if (b !== box) b.classList.add("hidden");
            });
          }
        });
      });
    </script>

    <script>
      // Show overlay
      //openModal.style.display = "block";

      // Hide overlay
      //openModal.style.display = "none";

      // Show overlay
      //openModal.style.display = "block";

      // Hide overlay
      //openModal.style.display = "none";

      window.addEventListener("DOMContentLoaded", () => {
        selector.dispatchEvent(new Event("change"));
      });

      const images = {
        mode1: [
          "images/PNG/isometric_set_0000_1255_isometric_330deg_1.png",
          "images/PNG/isometric_set_0001_1250_isometric 300deg_1.png",
          "images/PNG/isometric_set_0002_1245_isometric 270deg_1.png",
          "images/PNG/isometric_set_0003_1240_isometric 250deg_1.png",
          "images/PNG/isometric_set_0004_1235_isometric 210deg_1.png",
          "images/PNG/isometric_set_0005_1230_isometric_180deg_1.png",
          "images/PNG/isometric_set_0006_1225_isometric_150deg_1.png",
          "images/PNG/isometric_set_0007_1220_isometric_120deg_1.png",
          "images/PNG/isometric_set_0008_1215_isometric_90deg_1.png",
          "images/PNG/isometric_set_0009_1210_isometric_60deg_1.png",
          "images/PNG/isometric_set_0010_1205_isometric_30deg_1.png",
          "images/PNG/isometric_set_0011_TDC_1200_isometric_0deg_1.png",
        ],
        mode2: [
          "images/SVG/optim2/isometric_set_0000_1255_isometric_330deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0001_1250_isometric_300deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0002_1245_isometric_270deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0003_1240_isometric_ 250deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0004_1235_isometric_210deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0005_1230_isometric_180deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0006_1225_isometric_150deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0007_1220_isometric_120deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0008_1215_isometric_90deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0009_1210_isometric_60deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0010_1205_isometric_30deg_1optim2.svg",
          "images/SVG/optim2/isometric_set_0011_TDC_1200_isometric_0deg_1optim2.svg",
        ],
        mode3: [
          "images/SVG/optim3/isometric_set_0000_1255_isometric_330deg_1optim3.svg",
          "images/SVG/optim3/isometric_set_0001_1250_isometric_300deg_1optim3.svg",
          "images/SVG/optim3/isometric_set_0002_1245_isometric_270deg_1optim3.svg",
          "images/SVG/optim3/isometric_set_0003_1240_isometric_ 250deg_1optim3.svg",
          "images/SVG/optim3/isometric_set_0004_1235_isometric_210deg_1optim3.svg",
        ],
      };

      const selector = document.getElementById("modeSelector");
      const displayImage = document.getElementById("displayImage");
      const nextBtn = document.getElementById("nextBtn");

      displayImage.onerror = function () {
        this.src = "images/PNG/placeholder2.png";
      };

      let currentMode = "mode3:";
      let currentIndex = 0;

      selector.addEventListener("change", function () {
        currentMode = this.value;
        currentIndex = 0;

        if (currentMode && images[currentMode].length > 0) {
          displayImage.src = images[currentMode][currentIndex];
          displayImage.style.display = "block";
          nextBtn.disabled = false;
        } else {
          displayImage.style.display = "none";
          nextBtn.disabled = true;
        }
      });
      nextBtn.addEventListener("click", function () {
        if (currentMode) {
          currentIndex = (currentIndex + 1) % images[currentMode].length;
          displayImage.src = images[currentMode][currentIndex];
        }
      });
    </script>
    <script src="js/script.js"></script>

    <!--<script type="module">
 import { onLCP, onCLS } from 'https://unpkg.com/web-vitals?module';
  onLCP(console.log);
  onCLS(console.log);
</script>-->
  </body>
</html>
